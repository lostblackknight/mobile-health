FROM openjdk:11.0.15-oraclelinux7

ENV JAR_FILE=bee-health-search.jar

ENV SPRING_PROFILES_ACTIVE=prod

ENV NACOS_SERVICE_HOST=localhost
ENV NACOS_SERVICE_PORT=8848

ENV ELASTICSEARCH_SERVICE_PROTOCOL=http
ENV ELASTICSEARCH_SERVICE_HOST=localhost
ENV ELASTICSEARCH_SERVICE_PORT=9200

ENV JVM_XMS=100m
ENV JVM_XMX=100m
ENV JVM_USER_TIMEZONE=GMT+8

EXPOSE 7007

WORKDIR /app

COPY ./${JAR_FILE} ./

ENTRYPOINT java -Xmx${JVM_XMX} -Xms${JVM_XMS} -Duser.timezone=${JVM_USER_TIMEZONE} -jar ${JAR_FILE} -Dspring.profiles.active=${SPRING_PROFILES_ACTIVE}